\chapter{Discussion}

The comparison against OpenWebSpider for interface discovery performance and naive random string construction for test case generation shows that our penetration tool, which is based on static analysis, could identify more web interfaces than traditional web spider and achieve higher code coverage than tradtional penetration testing tool. In our study, we found that in the case that application hides its some of its URLs from the front-end, web crawler is unable to discover those URLs and would fail to visit their pages. However, there is no such problem for our penetration testing tool. Since our implementation does not rely on front-end information when identifing interfacing but rather directly inspects all the source codes, our interface discovery mechanism will eventually visit all the files in the application code base and get interface information from them. Moreover, the static analysis mechanism also helps us identify hidden URLs in the application, from which a complete site map could be generated. However, the limitation for our penetration testing tool is that it has to have read access of all the PHP files in use, which is sometimes difficult to accomplish.

Another potential advantange for using our penetration testing tool is that its interface discovery mechanism can identify which input variable is not going to be processed, thus saving time to generate test case for it. If an input variable is never used in the backend, then it is not going to be idenfified during static analysis; however, a web crawler may simply look at the input fields in the front end and assume that all input fields are going to be processed.

Figure \ref{fig:result} shows our implemenation for testcase generation achieves more code coverage than the naive testcase generation method. The improvement is relatively big for the first three sample programs while it is only minute for the last one. The reason is that the first three programs are mainly dealing with string typed inputs, as opposed to the last program, Paycheck Calculator, which only processes integer data input. It is clear that static analysis along with string literal value estimation makes our penetration testing tool more capable of getting to the "edge cases" where the program may branch out, thus is able to achieve high code coverage by using relatively fewer test cases. Further investigation into the implementation details of sample programs leads to the finding that the performance of our testcase generator is higher if input variables are checked against const  string literals or regular expression patterns (program 1 and 2), and is lower if input variables are checked with each other(program 3).